<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ–º–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé®</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .image-item {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: #f8f9fa;
        }
        
        .image-item img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }
        
        .image-item h3 {
            margin-bottom: 5px;
            color: #2d3748;
        }
        
        .image-item p {
            font-size: 14px;
            color: #666;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }
        
        .controls {
            text-align: center;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé® –î–µ–º–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h1>
            <p>–í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —Å Canvas API - –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞!</p>
        </div>
        
        <div class="card">
            <div class="controls">
                <button class="btn" onclick="generateAll()">üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</button>
                <button class="btn" onclick="downloadAll()">üíæ –°–∫–∞—á–∞—Ç—å –≤—Å–µ</button>
            </div>
            
            <div class="gallery" id="gallery">
                <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <script>
        // –ö–æ–ø–∏—Ä—É–µ–º –∫–ª–∞—Å—Å LocalImageGenerator –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
        class LocalImageGenerator {
            constructor() {
                this.canvas = document.createElement('canvas');
                this.ctx = this.canvas.getContext('2d');
            }

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
            random(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞
            randomColor(opacity = 1) {
                const colors = [
                    `rgba(103, 126, 234, ${opacity})`, // Purple-blue
                    `rgba(59, 130, 246, ${opacity})`,  // Blue  
                    `rgba(16, 185, 129, ${opacity})`,  // Green
                    `rgba(245, 101, 101, ${opacity})`, // Red
                    `rgba(251, 191, 36, ${opacity})`,  // Yellow
                    `rgba(139, 92, 246, ${opacity})`,  // Purple
                    `rgba(236, 72, 153, ${opacity})`,  // Pink
                    `rgba(34, 197, 94, ${opacity})`    // Emerald
                ];
                return colors[this.random(0, colors.length - 1)];
            }

            // –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
            createGradient(width, height, type = 'linear') {
                let gradient;
                
                if (type === 'radial') {
                    gradient = this.ctx.createRadialGradient(
                        width/2, height/2, 0, 
                        width/2, height/2, Math.max(width, height)/2
                    );
                } else {
                    const angle = this.random(0, 360) * (Math.PI / 180);
                    const x1 = Math.cos(angle) * width;
                    const y1 = Math.sin(angle) * height;
                    gradient = this.ctx.createLinearGradient(0, 0, x1, y1);
                }
                
                gradient.addColorStop(0, this.randomColor());
                gradient.addColorStop(0.5, this.randomColor());
                gradient.addColorStop(1, this.randomColor());
                
                return gradient;
            }

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–≥—É—Ä
            drawShapes(width, height, category) {
                const shapesCount = this.random(3, 8);
                
                for (let i = 0; i < shapesCount; i++) {
                    this.ctx.save();
                    this.ctx.globalAlpha = this.random(10, 40) / 100;
                    
                    const shapeType = this.random(1, 4);
                    const x = this.random(0, width);
                    const y = this.random(0, height);
                    const size = this.random(20, Math.min(width, height) / 3);
                    
                    this.ctx.fillStyle = this.randomColor();
                    
                    switch (shapeType) {
                        case 1: // –ö—Ä—É–≥
                            this.ctx.beginPath();
                            this.ctx.arc(x, y, size/2, 0, 2 * Math.PI);
                            this.ctx.fill();
                            break;
                            
                        case 2: // –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫
                            this.ctx.fillRect(x - size/2, y - size/2, size, size * 0.6);
                            break;
                            
                        case 3: // –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫
                            this.ctx.beginPath();
                            this.ctx.moveTo(x, y - size/2);
                            this.ctx.lineTo(x - size/2, y + size/2);
                            this.ctx.lineTo(x + size/2, y + size/2);
                            this.ctx.closePath();
                            this.ctx.fill();
                            break;
                            
                        case 4: // –†–æ–º–±
                            this.ctx.beginPath();
                            this.ctx.moveTo(x, y - size/2);
                            this.ctx.lineTo(x + size/2, y);
                            this.ctx.lineTo(x, y + size/2);
                            this.ctx.lineTo(x - size/2, y);
                            this.ctx.closePath();
                            this.ctx.fill();
                            break;
                    }
                    
                    this.ctx.restore();
                }
            }

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            drawArchitecture(width, height) {
                // –ó–¥–∞–Ω–∏—è-–±–ª–æ–∫–∏
                const buildings = this.random(3, 6);
                const buildingWidth = width / (buildings + 1);
                
                for (let i = 0; i < buildings; i++) {
                    const x = (i + 0.5) * buildingWidth;
                    const buildingHeight = this.random(height * 0.3, height * 0.8);
                    const y = height - buildingHeight;
                    
                    this.ctx.fillStyle = this.randomColor(0.8);
                    this.ctx.fillRect(x - buildingWidth/3, y, buildingWidth * 0.6, buildingHeight);
                    
                    // –û–∫–Ω–∞
                    const windowRows = Math.floor(buildingHeight / 40);
                    const windowCols = Math.floor(buildingWidth * 0.6 / 30);
                    
                    this.ctx.fillStyle = this.randomColor(0.3);
                    for (let row = 0; row < windowRows; row++) {
                        for (let col = 0; col < windowCols; col++) {
                            const wx = x - buildingWidth/3 + col * 25 + 10;
                            const wy = y + row * 35 + 10;
                            this.ctx.fillRect(wx, wy, 8, 12);
                        }
                    }
                }
            }

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—Ä–æ–¥–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
            drawNature(width, height) {
                // –î–µ—Ä–µ–≤—å—è
                const trees = this.random(5, 10);
                
                for (let i = 0; i < trees; i++) {
                    const x = this.random(50, width - 50);
                    const treeHeight = this.random(height * 0.2, height * 0.6);
                    const trunkWidth = this.random(8, 15);
                    
                    // –°—Ç–≤–æ–ª
                    this.ctx.fillStyle = '#8B4513';
                    this.ctx.fillRect(x - trunkWidth/2, height - treeHeight/3, trunkWidth, treeHeight/3);
                    
                    // –ö—Ä–æ–Ω–∞
                    this.ctx.fillStyle = this.random(1, 2) === 1 ? '#228B22' : '#32CD32';
                    this.ctx.beginPath();
                    this.ctx.arc(x, height - treeHeight + treeHeight/4, treeHeight/3, 0, 2 * Math.PI);
                    this.ctx.fill();
                }
                
                // –û–±–ª–∞–∫–∞
                const clouds = this.random(2, 4);
                for (let i = 0; i < clouds; i++) {
                    const x = this.random(100, width - 100);
                    const y = this.random(50, height * 0.3);
                    
                    this.ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                    // –†–∏—Å—É–µ–º –æ–±–ª–∞–∫–æ –∏–∑ –∫—Ä—É–≥–æ–≤
                    for (let j = 0; j < 4; j++) {
                        this.ctx.beginPath();
                        this.ctx.arc(x + j * 15, y + Math.sin(j) * 5, this.random(20, 30), 0, 2 * Math.PI);
                        this.ctx.fill();
                    }
                }
            }

            // –†–∏—Å–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            drawTech(width, height) {
                // –°–µ—Ç–∫–∞
                this.ctx.strokeStyle = this.randomColor(0.3);
                this.ctx.lineWidth = 1;
                
                const gridSize = 30;
                for (let x = 0; x < width; x += gridSize) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(x, 0);
                    this.ctx.lineTo(x, height);
                    this.ctx.stroke();
                }
                
                for (let y = 0; y < height; y += gridSize) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(0, y);
                    this.ctx.lineTo(width, y);
                    this.ctx.stroke();
                }
                
                // –¶–∏—Ñ—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                const elements = this.random(8, 15);
                for (let i = 0; i < elements; i++) {
                    const x = this.random(50, width - 50);
                    const y = this.random(50, height - 50);
                    const size = this.random(20, 60);
                    
                    this.ctx.strokeStyle = this.randomColor(0.8);
                    this.ctx.lineWidth = 2;
                    
                    // –°–ª—É—á–∞–π–Ω–∞—è —Ñ–∏–≥—É—Ä–∞
                    const type = this.random(1, 3);
                    switch(type) {
                        case 1: // –®–µ—Å—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫
                            this.ctx.beginPath();
                            for (let j = 0; j < 6; j++) {
                                const angle = (j * Math.PI) / 3;
                                const px = x + Math.cos(angle) * size/2;
                                const py = y + Math.sin(angle) * size/2;
                                if (j === 0) this.ctx.moveTo(px, py);
                                else this.ctx.lineTo(px, py);
                            }
                            this.ctx.closePath();
                            this.ctx.stroke();
                            break;
                            
                        case 2: // –ö—Ä—É–≥ —Å –ª–∏–Ω–∏—è–º–∏
                            this.ctx.beginPath();
                            this.ctx.arc(x, y, size/2, 0, 2 * Math.PI);
                            this.ctx.stroke();
                            
                            for (let j = 0; j < 4; j++) {
                                const angle = (j * Math.PI) / 2;
                                this.ctx.beginPath();
                                this.ctx.moveTo(x, y);
                                this.ctx.lineTo(x + Math.cos(angle) * size/2, y + Math.sin(angle) * size/2);
                                this.ctx.stroke();
                            }
                            break;
                            
                        case 3: // –ö–≤–∞–¥—Ä–∞—Ç —Å –¥–∏–∞–≥–æ–Ω–∞–ª—è–º–∏
                            this.ctx.strokeRect(x - size/2, y - size/2, size, size);
                            this.ctx.beginPath();
                            this.ctx.moveTo(x - size/2, y - size/2);
                            this.ctx.lineTo(x + size/2, y + size/2);
                            this.ctx.moveTo(x + size/2, y - size/2);
                            this.ctx.lineTo(x - size/2, y + size/2);
                            this.ctx.stroke();
                            break;
                    }
                }
            }

            // –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            generateImage(width, height, category = '', text = '') {
                this.canvas.width = width;
                this.canvas.height = height;
                
                // –û—á–∏—Å—Ç–∫–∞ –∏ —Ñ–æ–Ω
                this.ctx.clearRect(0, 0, width, height);
                
                // –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
                const gradient = this.createGradient(width, height, this.random(1, 2) === 1 ? 'linear' : 'radial');
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(0, 0, width, height);
                
                // –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
                switch(category.toLowerCase()) {
                    case 'architecture':
                        this.drawArchitecture(width, height);
                        break;
                    case 'nature':
                        this.drawNature(width, height);
                        break;
                    case 'tech':
                    case 'technology':
                        this.drawTech(width, height);
                        break;
                    default:
                        this.drawShapes(width, height, category);
                        break;
                }
                
                // –¢–µ–∫—Å—Ç
                const displayText = text || (category ? `${category.toUpperCase()}` : 'GENERATED');
                if (displayText) {
                    const fontSize = Math.max(16, Math.min(width, height) / 20);
                    this.ctx.font = `bold ${fontSize}px Arial, sans-serif`;
                    this.ctx.textAlign = 'center';
                    this.ctx.textBaseline = 'middle';
                    
                    // –¢–µ–Ω—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞
                    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                    this.ctx.fillText(displayText, width/2 + 2, height/2 + 2);
                    
                    // –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
                    this.ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
                    this.ctx.fillText(displayText, width/2, height/2);
                }
                
                return this.canvas.toDataURL('image/png');
            }
        }

        // –°–æ–∑–¥–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
        const generator = new LocalImageGenerator();
        
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –¥–µ–º–æ
        const demoImages = [
            { category: 'architecture', width: 400, height: 300, title: 'üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è —Å –æ–∫–Ω–∞–º–∏' },
            { category: 'nature', width: 400, height: 300, title: 'üåø –ü—Ä–∏—Ä–æ–¥–∞', description: '–î–µ—Ä–µ–≤—å—è –∏ –æ–±–ª–∞–∫–∞' },
            { category: 'tech', width: 400, height: 300, title: 'üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', description: '–¶–∏—Ñ—Ä–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Å–µ—Ç–∫–∏' },
            { category: '', width: 400, height: 300, title: 'üé® –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è', description: '–°–ª—É—á–∞–π–Ω—ã–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–∏–≥—É—Ä—ã' },
            { category: 'architecture', width: 600, height: 200, title: 'üè¢ –ü–∞–Ω–æ—Ä–∞–º–∞ –∑–¥–∞–Ω–∏–π', description: '–®–∏—Ä–æ–∫–∏–π –≤–∏–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã' },
            { category: 'nature', width: 300, height: 400, title: 'üå≤ –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –ª–µ—Å', description: '–í—ã—Å–æ–∫–∏–µ –¥–µ—Ä–µ–≤—å—è' }
        ];
        
        let generatedImages = [];
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function generateAll() {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';
            generatedImages = [];
            
            demoImages.forEach((config, index) => {
                const imageUrl = generator.generateImage(config.width, config.height, config.category);
                generatedImages.push({
                    url: imageUrl,
                    filename: `generated_${config.category || 'abstract'}_${config.width}x${config.height}_${index + 1}.png`
                });
                
                const item = document.createElement('div');
                item.className = 'image-item';
                item.innerHTML = `
                    <img src="${imageUrl}" alt="${config.title}">
                    <h3>${config.title}</h3>
                    <p>${config.description}</p>
                    <p><strong>–†–∞–∑–º–µ—Ä:</strong> ${config.width}√ó${config.height}px</p>
                `;
                
                gallery.appendChild(item);
            });
        }
        
        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function downloadAll() {
            generatedImages.forEach(img => {
                const a = document.createElement('a');
                a.href = img.url;
                a.download = img.filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            });
        }
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', generateAll);
    </script>
</body>
</html>